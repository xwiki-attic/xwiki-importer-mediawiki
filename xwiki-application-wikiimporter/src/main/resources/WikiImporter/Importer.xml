<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc>
<web>WikiImporter</web>
<name>Importer</name>
<language></language>
<defaultLanguage>en</defaultLanguage>
<translation>0</translation>
<parent>WikiImporter.WebHome</parent>
<creator>XWiki.Admin</creator>
<author>XWiki.Admin</author>
<customClass></customClass>
<contentAuthor>XWiki.Admin</contentAuthor>
<creationDate>1265533119000</creationDate>
<date>1268565173000</date>
<contentUpdateDate>1268565173000</contentUpdateDate>
<version>1.0</version>
<title>WikiImporter Importer Page</title>
<template></template>
<defaultTemplate></defaultTemplate>
<validationScript></validationScript>
<comment></comment>
<minorEdit>false</minorEdit>
<syntaxId>xwiki/2.0</syntaxId>
<hidden>false</hidden>
<content>
{{velocity}}
#if($xwiki.hasAdminRights())
#set($void = $xwiki.ssx.use("WikiImporter.SSX"))
#set($void = $xwiki.jsx.use("WikiImporter.JSX"))
#set($importerType = $!{request.wikiimporter} )
#set($mwimporter = $services.wikiimporter.getWikiImporter($importerType))
#set($mwimpdesc = $mwimporter.getDescriptor())
##
{{html}}
&lt;div id="wikiimporter-page-header" class="imp_title"&gt;
$mwimpdesc.getName() - $mwimpdesc.getDescription()
&lt;/div&gt;
&lt;div id="spacer"&gt;&lt;/div&gt;

#if($mwimpdesc.getParameterDescriptorMap().isEmpty())
   &lt;strong&gt;Map is Empty&lt;/strong&gt;

#else
#set($allProducts = $mwimpdesc.getParameterDescriptorMap())

&lt;div id="wikiimporter-notifications"&gt;&amp;nbsp;&lt;span id="wikiimporter-notifications-text"&gt;&lt;/span&gt;&lt;/div&gt;


&lt;form method="post" action="$xwiki.getDocument("WikiImporter.ImportHandler").getURL()"&gt;

  ## Hidden Fields
  &lt;input type="hidden" id="wikiImporterType" name="wikiImporterType" value="mediawiki/xml" /&gt;
  &lt;div id="wikiimporter-page-content"&gt;
   &lt;fieldset class="header"&gt;
     &lt;h5&gt;Export Dump&lt;/h5&gt;
        &lt;p&gt;
           &lt;label class="title"&gt;$allProducts.get('srcpath').getName()&lt;/label&gt;
           &lt;input type="text" name="srcpath" id="srcpath" onfocus="showNotificatioin('$allProducts.get('srcpath').getDescription()')" onblur="resetNotification()" size="60"&gt;
        &lt;/p&gt;
        &lt;p&gt;
           &lt;label class="title"&gt;$allProducts.get('defaultspace').getName()&lt;/label&gt;
           &lt;input type="text" name="defaultspace" id="defaultspace" onfocus="showNotificatioin('$allProducts.get('defaultspace').getDescription()')" onblur="resetNotification()" value="Main" size="60"&gt;
        &lt;/p&gt; 
        &lt;p&gt;
           &lt;label class="title"&gt;$allProducts.get('wiki').getName()&lt;/label&gt;
           &lt;input type="text" name="wiki" id="wiki" onfocus="showNotificatioin('$allProducts.get('wiki').getDescription()')" onblur="resetNotification()" value="$doc.getWiki()" size="60"&gt;
        &lt;/p&gt;        
        &lt;p&gt;
           &lt;label class="title"&gt;$allProducts.get('preservehistory').getName()&lt;/label&gt;
           &lt;select name="preservehistory" id="preservehistory" onfocus="showNotificatioin('$allProducts.get('preservehistory').getDescription()')"  onblur="resetNotification()"&gt;
              &lt;option value="false"&gt;False&lt;/option&gt;
              &lt;option value="true"&gt;True&lt;/option&gt;
           &lt;/select&gt;
        &lt;/p&gt;     
      
   &lt;/fieldset&gt;

   &lt;fieldset class="Attachments"&gt;
     &lt;h5&gt;Export Dump&lt;/h5&gt;
        &lt;p&gt;
           &lt;label class="title"&gt;$allProducts.get('attachmentsrcpath').getName()&lt;/label&gt;
           &lt;input type="text" name="attachmentsrcpath" id="attachmentsrcpath" onfocus="showNotificatioin('$allProducts.get('attachmentsrcpath').getDescription()')" onblur="resetNotification()" size="60"&gt;
        &lt;/p&gt;       
        &lt;p&gt;
           &lt;label class="title"&gt;$allProducts.get('attachmentexcludedirs').getName()&lt;/label&gt;
           &lt;input type="text" name="attachmentexcludedirs" id="attachmentexcludedirs" onfocus="showNotificatioin('$allProducts.get('attachmentexcludedirs').getDescription()')" onblur="resetNotification()" size="60"&gt;
        &lt;/p&gt;      
   &lt;/fieldset&gt;
  
  &lt;div id="spacer"&gt;&lt;/div&gt;
  &lt;input type="submit" value='Next &amp;#62;' class="button"&gt;

&lt;/form&gt;
&lt;/div&gt;
#end
&lt;/div&gt;
{{/html}}

#else
{{info}} Need admin rights to use this application. {{/info}}
#end
{{/velocity}}</content>
</xwikidoc>